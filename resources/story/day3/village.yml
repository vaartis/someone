config:
  chars:
    player:
      color: [255, 255, 255]
    description:
      color: [127, 0, 255]
    narra:
      color: [211, 0, 0]
    maj:
      color: [135,206,235]
  dialogue_between: [player, narra]
1:
  char: description
  text: >-
    It's morning again. You get out of bed and go to the kitchen. Narra is already there, same as yesterday, having breakfast.

2:
  char: narra
  text: Hey. Slept well?

3:
  responses:
  - text: Sure did.
    next: sure-did-1
  - text: You gotta stop asking, come on, you know I'm not sleeping.
    next: stop-asking-1

stop-asking-1:
  char: narra
  text: >-
    Haha, come on. It's the most natural thing, what else would I say to start the conversation in the morning anyway?
  next: 4

sure-did-1:
  char: narra
  text: >-
    Well, I'm glad to hear that.
  next: 4

4:
  char: narra
  text: >-
    So.. how's it been on the outside tonight?

5:
  responses:
  - text: >-
      Not too different. Another "puzzle", another.. "melody". A different one, too.

6:
  text: >-
    Not much.. anything else?

7:
  char: player
  custom:
    class: { module: "terminal.save_and_return_lines", class: "SaveLine" }
    data:
      next: !line-name "talks/narra/talk-about"
      return_to: !line-name 8

8:
  char: narra
  text: >-
    Well.. I'm gonna chill for a bit, all the yesterday's walking made my legs sore, haven't walked that much in a very long while.
    Maybe you could look around for a bit, just don't go too far.. I don't want you to get lost.. Come back a bit later and we'll try searching
    for more people together. Sounds alright?

9:
  responses:
  - text: Sure.
  - text: Oh well.

10:
  text: What to do now..?
  next: village-hub

village-hub:
  responses:
  - text: Visit Maj
    next: go-to-maj
  #- text: Go back to Narra's house
  #  next:

go-to-maj:
  script_after: TerminalModule.state_variables.talks.maj.visited_before = true
  custom:
    class: { module: "terminal.select_line", class: "SelectLine" }
    data:
    - condition: return not TerminalModule.state_variables.talks.maj.visited_before
      next: !line-name maj-1
    - next: !line-name maj-5

maj-1:
  char: description
  text: You walk to his house and knock on the door a few times.

maj-2:
  char: maj
  text: let yourself in.

maj-3:
  char: description
  text: You hear from inside the house.

maj-4:
  char: maj
  text: the door's not locked.

maj-5:
  char: description
  text: You enter the house and find Maj in the kitchen, with a laptop and a cup of tea.

maj-6:
  char: maj
  text: hey <= state_variables.input_variables.p>.

maj-7:
  7:
  char: player
  custom:
    class: { module: "terminal.save_and_return_lines", class: "SaveLine" }
    data:
      next: !line-name "talks/maj/talk-about"
      return_to: !line-name village-hub
